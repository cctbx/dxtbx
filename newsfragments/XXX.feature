Refactor code not have a circular dependency between DIALS and cctbx.xfel
